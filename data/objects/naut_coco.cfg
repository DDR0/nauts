{
	"animation": [
		{
			"accel_x": 0,
			"accel_y": 80,
			"duration": 6,
			"frames": 9,
			"id": "stand",
			"image": "coco.png",
			"pad": 3,
			"rect": [2,2,151,127],
			"reverse": true,
			"scale": 1
		},
		{
			"accel_x": 0,
			"accel_y": 80,
			"auto_adjust": true,
			"duration": 6,
			"frames": 15,
			"id": "tilt",
			"image": "coco.png",
			"pad": 3,
			"rect": [1383,2,1525,127],
			"reverse": true,
			"scale": 1
		},
		{
			"accel_x": 0,
			"accel_y": 80,
			"duration": 4,
			"frames": 7,
			"id": "walk",
			"image": "coco.png",
			"pad": 3,
			"rect": [2,132,161,261],
			"reverse": true,
			"scale": 1
		},
		{
			"accel_x": 0,
			"accel_y": 80,
			"duration": 2,
			"frames": 7,
			"id": "prepare_throw",
			"image": "coco.png",
			"pad": 3,
			"rect": [2,266,143,419],
			"reverse": false,
			"scale": 1,
			"solid_area": [20,15,55,70]
		},
		{
			"accel_x": 0,
			"accel_y": 80,
			"duration": 2,
			"frames": 7,
			"id": "throw_up",
			"image": "coco.png",
			"pad": 3,
			"rect": [1021,266,1168,416],
			"reverse": false,
			"scale": 1,
			"solid_area": [20,15,55,70]
		},
		{
			"accel_x": 0,
			"accel_y": 80,
			"duration": 2,
			"frames": 8,
			"id": "throw_up_diag",
			"image": "coco.png",
			"pad": 3,
			"rect": [2,424,170,557],
			"reverse": false,
			"scale": 1,
			"solid_area": [20,15,55,70]
		},
		{
			"accel_x": 0,
			"accel_y": 80,
			"duration": 2,
			"frames": 8,
			"id": "throw_side",
			"image": "coco.png",
			"pad": 3,
			"rect": [2082,266,2263,409],
			"reverse": false,
			"scale": 1,
			"solid_area": [20,15,55,70]
		},
		{
			"accel_x": 0,
			"accel_y": 80,
			"duration": 2,
			"frames": 8,
			"id": "throw_down_diag",
			"image": "coco.png",
			"pad": 3,
			"rect": [2,562,177,712],
			"reverse": false,
			"scale": 1,
			"solid_area": [20,15,55,70]
		},
		{
			"accel_x": 0,
			"accel_y": 80,
			"duration": 2,
			"frames": 9,
			"id": "throw_down",
			"image": "coco.png",
			"pad": 3,
			"rect": [2,717,143,870],
			"reverse": false,
			"scale": 1,
			"solid_area": [20,15,55,70]
		},
		{
			"accel_x": 0,
			"accel_y": 80,
			"duration": 4,
			"frames": 8,
			"id": "attack_up",
			"image": "coco.png",
			"pad": 3,
			"rect": [1438,562,1579,702],
			"reverse": true,
			"scale": 1
		},
		{
			"accel_x": 0,
			"accel_y": 80,
			"duration": 4,
			"frames": 9,
			"id": "attack_up_diag",
			"image": "coco.png",
			"pad": 3,
			"rect": [1311,717,1457,852],
			"reverse": true,
			"scale": 1
		},
		{
			"accel_x": 0,
			"accel_y": 80,
			"duration": 4,
			"frames": 9,
			"id": "attack_side",
			"image": "coco.png",
			"pad": 3,
			"rect": [2,875,161,1025],
			"reverse": true,
			"scale": 1
		},
		{
			"accel_x": 0,
			"accel_y": 80,
			"duration": 4,
			"frames": 12,
			"id": "attack_down_diag",
			"image": "coco.png",
			"pad": 3,
			"rect": [2,1030,159,1183],
			"reverse": true,
			"scale": 1
		},
		{
			"accel_x": 0,
			"accel_y": 80,
			"duration": 4,
			"frames": 10,
			"id": "attack_down",
			"image": "coco.png",
			"pad": 3,
			"rect": [2602,562,2743,702],
			"reverse": true,
			"scale": 1
		},
		{
			"accel_x": 0,
			"accel_y": 80,
			"duration": 4,
			"frames": 10,
			"id": "jump",
			"image": "coco.png",
			"pad": 3,
			"rect": [1938,1030,2098,1183],
			"scale": 1
		}
	],
	"animation_baking": {
		"animations": [
			{
				"accel_x": 0,
				"accel_y": 80,
				"duration": 6,
				"frames": [
					[1,17],
					[1,23],
					[1,1],
					[1,0],
					[1,19],
					[1,18],
					[1,13],
					[1,2],
					[1,24]
				],
				"id": "stand",
				"reverse": true,
				"scale": 1
			},
			{
				"accel_x": 0,
				"accel_y": 80,
				"auto_adjust": true,
				"duration": 6,
				"frames": [
					[0,6],
					[0,7],
					[0,8],
					[0,9],
					[0,14],
					[0,15],
					[0,20],
					[0,21],
					[0,22],
					[0,23],
					[0,24],
					[0,25],
					[1,9],
					[1,10],
					[1,11]
				],
				"id": "tilt",
				"reverse": true,
				"scale": 1
			},
			{
				"accel_x": 0,
				"accel_y": 80,
				"duration": 4,
				"frames": [
					[2,8],
					[2,20],
					[2,21],
					[2,14],
					[2,15],
					[1,25],
					[1,21]
				],
				"id": "walk",
				"reverse": true,
				"scale": 1
			},
			{
				"accel_x": 0,
				"accel_y": 80,
				"duration": 2,
				"frames": [
					[8,9],
					[8,10],
					[7,25],
					[6,0],
					[6,1],
					[8,0],
					[6,2]
				],
				"id": "prepare_throw",
				"reverse": false,
				"scale": 1,
				"solid_area": [20,15,55,70]
			},
			{
				"accel_x": 0,
				"accel_y": 80,
				"duration": 2,
				"frames": [
					[7,20],
					[7,9],
					[7,10],
					[5,23],
					[5,24],
					[5,26],
					[5,27]
				],
				"id": "throw_up",
				"reverse": false,
				"scale": 1,
				"solid_area": [20,15,55,70]
			},
			{
				"accel_x": 0,
				"accel_y": 80,
				"duration": 2,
				"frames": [
					[2,9],
					[2,16],
					[2,22],
					[2,23],
					[3,7],
					[3,17],
					[3,18],
					[3,19]
				],
				"id": "throw_up_diag",
				"reverse": false,
				"scale": 1,
				"solid_area": [20,15,55,70]
			},
			{
				"accel_x": 0,
				"accel_y": 80,
				"duration": 2,
				"frames": [
					[6,18],
					[6,6],
					[6,5],
					[6,16],
					[6,17],
					[6,13],
					[6,14],
					[6,15]
				],
				"id": "throw_side",
				"reverse": false,
				"scale": 1,
				"solid_area": [20,15,55,70]
			},
			{
				"accel_x": 0,
				"accel_y": 80,
				"duration": 2,
				"frames": [
					[7,6],
					[7,5],
					[7,7],
					[7,11],
					[7,12],
					[7,13],
					[7,14],
					[7,15]
				],
				"id": "throw_down_diag",
				"reverse": false,
				"scale": 1,
				"solid_area": [20,15,55,70]
			},
			{
				"accel_x": 0,
				"accel_y": 80,
				"duration": 2,
				"frames": [
					[8,8],
					[8,20],
					[8,15],
					[8,4],
					[8,5],
					[8,6],
					[8,7],
					[8,16],
					[8,17]
				],
				"id": "throw_down",
				"reverse": false,
				"scale": 1,
				"solid_area": [20,15,55,70]
			},
			{
				"accel_x": 0,
				"accel_y": 80,
				"duration": 4,
				"frames": [
					[4,6],
					[4,7],
					[4,8],
					[5,5],
					[5,6],
					[5,7],
					[5,8],
					[5,9]
				],
				"id": "attack_up",
				"reverse": true,
				"scale": 1
			},
			{
				"accel_x": 0,
				"accel_y": 80,
				"duration": 4,
				"frames": [
					[4,0],
					[3,2],
					[3,3],
					[3,4],
					[3,8],
					[3,13],
					[3,14],
					[3,25],
					[3,26]
				],
				"id": "attack_up_diag",
				"reverse": true,
				"scale": 1
			},
			{
				"accel_x": 0,
				"accel_y": 80,
				"duration": 4,
				"frames": [
					[7,0],
					[7,1],
					[7,2],
					[6,3],
					[6,4],
					[6,8],
					[6,9],
					[6,10],
					[6,11]
				],
				"id": "attack_side",
				"reverse": true,
				"scale": 1
			},
			{
				"accel_x": 0,
				"accel_y": 80,
				"duration": 4,
				"frames": [
					[8,2],
					[8,3],
					[8,11],
					[8,12],
					[8,13],
					[8,14],
					[8,18],
					[8,19],
					[8,21],
					[8,22],
					[8,23],
					[8,25]
				],
				"id": "attack_down_diag",
				"reverse": true,
				"scale": 1
			},
			{
				"accel_x": 0,
				"accel_y": 80,
				"duration": 4,
				"frames": [
					[5,0],
					[5,1],
					[5,2],
					[5,10],
					[5,11],
					[5,15],
					[5,16],
					[5,17],
					[5,18],
					[5,19]
				],
				"id": "attack_down",
				"reverse": true,
				"scale": 1
			},
			{
				"accel_x": 0,
				"accel_y": 80,
				"duration": 4,
				"frames": [
					[0,16],
					[0,10],
					[7,8],
					[7,3],
					[7,19],
					[2,10],
					[2,4],
					[6,12],
					[8,24],
					[7,4]
				],
				"id": "jump",
				"scale": 1
			}
		],
		"dest_image": "coco.png",
		"source_image": "sources/coco/ch_blazer001_0.png"
	},
	"editor_info": {
		"category": "nauts"
	},
	"feet_width": 5,
	"friction": 300,
	"hitpoints": 120,
	"id": "naut_coco",
	"is_human": true,
	"is_strict": true,
	"on_create": "set(animation, 'stand')",
	"on_ctrl_jump": "set(animation, 'prepare_throw')",
	"on_ctrl_up": "if(_can_jump, [
	  set(velocity_y, min(velocity_y, -_jump_power)),
	  set(animation, 'jump'),
	  set(_can_jump, false)
	])",
	on_ctrl_down: "set(fall_through_platforms, 5)",
	"on_end_attack_down_anim": "set(animation, 'attack_down')",
	"on_end_attack_down_diag_anim": "set(animation, 'attack_down_diag')",
	"on_end_attack_side_anim": "set(animation, 'attack_side')",
	"on_end_attack_up_anim": "set(animation, 'attack_up')",
	"on_end_attack_up_diag_anim": "set(animation, 'attack_up_diag')",
	"on_end_jump_anim": "set(animation, 'jump')",
	"on_end_prepare_throw_anim": "set(animation, 'throw_' + desired_direction)",
	"on_end_stand_anim": "set(animation, 'stand')",
	"on_end_throw_down_anim": "set(animation, 'tilt')",
	"on_end_throw_down_diag_anim": "set(animation, 'tilt')",
	"on_end_throw_side_anim": "set(animation, 'tilt')",
	"on_end_throw_up_anim": "set(animation, 'tilt')",
	"on_end_throw_up_diag_anim": "set(animation, 'tilt')",
	"on_end_tilt_anim": "set(animation, 'tilt')",
	"on_end_walk_anim": "set(animation, 'walk')",
	"on_enter_walk_anim": "[
	debug('begin walk'),
	set(accel_x, _walk_accel)
]",
	"on_process": "[
	if(is_standing, [if(animation = 'jump', set(animation, 'tilt')),
			         set(_can_jump, true)]),
    if(ctrl_tongue and animation != desired_attack_animation,
	   set(animation, desired_attack_animation)),
	if(ctrl_right, set(facing, 1)),
	if(ctrl_left, set(facing, -1)),
	set(ctrl_user_output, mouse_pos()),
	if(animation not in ['walk', 'jump'],
	   set(facing, sign(mouse_pos().x - mid_x)))
]",
	"on_process_attack_down": "do_process_attack()",
	"on_process_attack_down_diag": "do_process_attack()",
	"on_process_attack_side": "do_process_attack()",
	"on_process_attack_up": "do_process_attack()",
	"on_process_attack_up_diag": "do_process_attack()",
	"on_process_jump": "
	  if(ctrl_left, [set(facing, -1), set(accel_x, _walk_accel)],
	     ctrl_right, [set(facing, 1), set(accel_x, _walk_accel)],
		 set(accel_x, 0))",
	"on_process_prepare_throw": "do_process_throw()",
	"on_process_stand": "[
	if(ctrl_left or ctrl_right, set(animation, 'walk'))
]",
	"on_process_throw_down": "do_process_throw()",
	"on_process_throw_down_diag": "do_process_throw()",
	"on_process_throw_side": "do_process_throw()",
	"on_process_throw_up": "do_process_throw()",
	"on_process_throw_up_diag": "do_process_throw()",
	"on_process_tilt": "[
	if(abs(velocity_x) < 100, set(animation, 'stand')),
	fire_event('process_stand'),
]",
	"on_process_walk": "[
	if(not (ctrl_left or ctrl_right), set(animation, 'tilt'))
]",
	"properties": {
		"_can_jump": true,
		"_jump_power": 2400,
		"_walk_accel": 500,
		"desired_attack_animation": "'attack_' + desired_direction",
		"desired_direction": "
			if(ydelta < 0,
				if(abs(xdelta)*2 < abs(ydelta), 'up',
						if(abs(ydelta)*2 < abs(xdelta),
						   'side', 'up_diag')),

				if(abs(xdelta)*2 < abs(ydelta), 'down',
						if(abs(ydelta)*2 < abs(xdelta),
						   'side', 'down_diag')),

		    ) where xdelta = target.x - mid_x
			  where ydelta = target.y - mid_y
			  where target = mouse_pos()
		",
		"do_process_attack": "def() ->commands [
			if(not ctrl_tongue, set(animation, 'tilt')),
			if(facing < 0 and ctrl_left or facing > 0 and ctrl_right,
			   set(accel_x, _walk_accel),
			   set(accel_x, 0))
		]
		",
		"do_process_throw": "def() -> commands [
			if(facing < 0 and ctrl_left or facing > 0 and ctrl_right,
			   set(accel_x, _walk_accel),
			   set(accel_x, 0))
		]",
		"mouse_pos": "def() -> {x: int, y: int}
		  { x: level.camera_position[0] + (int<- level.player.ctrl_mice[0][0]),
		    y: level.camera_position[1] + (int<- level.player.ctrl_mice[0][1]) }"
	},
	"solid_area": [20,5,55,60],
	"traction": 1000,
	"traction_in_air": 50
}
